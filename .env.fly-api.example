# ============================================
# Proxify B2B API - Fly.io Environment Variables
# ============================================
# Set these secrets in Fly.io with: flyctl secrets set KEY=VALUE

# ============================================
# Database (Railway PostgreSQL)
# ============================================
DATABASE_URL=postgresql://postgres:PASSWORD@containers-us-west-XXX.railway.app:5432/railway?sslmode=require

# ============================================
# Application URLs
# ============================================
API_URL=https://proxify-b2b-api.fly.dev
CORS_ORIGINS=https://proxify-web.vercel.app,https://yourdomain.com

# ============================================
# Authentication (Privy)
# ============================================
# Get from: https://dashboard.privy.io
PRIVY_APP_ID=your_privy_app_id_here
PRIVY_APP_SECRET=your_privy_app_secret_here

# ============================================
# Blockchain Configuration
# ============================================
# Get from: https://dashboard.alchemy.com
ALCHEMY_API_KEY=your_alchemy_api_key_here
ALCHEMY_MAINNET_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}
ALCHEMY_SEPOLIA_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/${ALCHEMY_API_KEY}

# Network Configuration
DEFAULT_CHAIN_ID=11155111  # Sepolia for testing, use 1 for mainnet
SUPPORTED_CHAIN_IDS=1,11155111

# Contract Addresses (Mainnet)
USDC_ADDRESS_MAINNET=0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48
AAVE_POOL_ADDRESS_MAINNET=0x87870Bca3F3fD6335C3F4ce8392D69350B4fA4E2

# Contract Addresses (Sepolia)
USDC_ADDRESS_SEPOLIA=0x94a9D9AC8a22534E3FaCa9F4e7F2E2cf85d5E4C8
AAVE_POOL_ADDRESS_SEPOLIA=0x0496275d34753A48320CA58103d5220d394FF77F

# Oracle Private Keys (Hot Wallets for Token Operations)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SANDBOX_ORACLE_PRIVATE_KEY=0xYOUR_SEPOLIA_WALLET_PRIVATE_KEY
MAINNET_ORACLE_PRIVATE_KEY=0xYOUR_MAINNET_WALLET_PRIVATE_KEY

# ============================================
# AI Services (Optional - for agent integration)
# ============================================
OPENAI_API_KEY=sk-your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview

# LangChain/LangSmith (Optional)
LANGCHAIN_TRACING_V2=true
LANGCHAIN_API_KEY=your_langsmith_api_key_here
LANGCHAIN_PROJECT=proxify-production
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com

# MCP Server URL (Fly.io internal network)
MCP_SERVER_URL=http://proxify-mcp.internal:3001

# ============================================
# Security & Secrets
# ============================================
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_RANDOM_SECRET_HERE
SESSION_SECRET=CHANGE_ME_RANDOM_SESSION_SECRET_HERE
ENCRYPTION_KEY=CHANGE_ME_32_CHAR_ENCRYPTION_KEY_HERE

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=60000  # 1 minute
RATE_LIMIT_MAX_REQUESTS=100  # 100 requests per minute

# ============================================
# External Services (Optional)
# ============================================
# Email Service (SendGrid, Mailgun, etc.)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your_sendgrid_api_key_here
SMTP_FROM_EMAIL=noreply@proxify.io
SMTP_FROM_NAME=Proxify

# Monitoring (Sentry)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=production

# Analytics (Optional)
MIXPANEL_TOKEN=your_mixpanel_token_here

# ============================================
# Feature Flags
# ============================================
ENABLE_AGENT=true
ENABLE_MCP_SERVER=true
ENABLE_YIELD_ENGINE=true
ENABLE_WITHDRAWALS=true
MAINTENANCE_MODE=false

# ============================================
# HOW TO SET THESE IN FLY.IO
# ============================================
# 1. Required secrets (set these first):
#
# flyctl secrets set \
#   DATABASE_URL="postgresql://..." \
#   PRIVY_APP_ID="your_privy_app_id" \
#   PRIVY_APP_SECRET="your_privy_secret" \
#   ALCHEMY_API_KEY="your_alchemy_key" \
#   JWT_SECRET="$(openssl rand -base64 32)" \
#   SESSION_SECRET="$(openssl rand -base64 32)" \
#   ENCRYPTION_KEY="$(openssl rand -base64 32)" \
#   --app proxify-b2b-api
#
# 2. Optional secrets (add as needed):
#
# flyctl secrets set \
#   OPENAI_API_KEY="sk-..." \
#   SENTRY_DSN="https://..." \
#   SMTP_PASSWORD="your_smtp_password" \
#   --app proxify-b2b-api
#
# 3. View all secrets:
#
# flyctl secrets list --app proxify-b2b-api
#
# 4. Remove a secret:
#
# flyctl secrets unset SECRET_NAME --app proxify-b2b-api
